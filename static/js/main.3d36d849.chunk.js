(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{394:function(e,t,a){e.exports=a(759)},399:function(e,t,a){},759:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(20),i=a.n(c),o=(a(399),a(286)),l=a(71),s=a.n(l),d=a(172),u=a(115),m=a(275),g=a.n(m),p={games:function(e){return{getAll:function(){return g.a.get(e)}}}},f=a(107),h=a(108),b=a(116),v=a(109),E=a(117),w=a(26),C=a(104),P=a.n(C),k=a(105),y=a.n(k),O=a(24),S=a.n(O),D=a(106),j=a.n(D),x=a(44),N=a.n(x),M=a(54),B=a.n(M),R=a(101),Y=a.n(R),I=a(103),A=a.n(I),T=a(102),W=a.n(T),q=[{id:"game",numeric:!1,disablePadding:!0,label:"Game"},{id:"timestamp",numeric:!0,disablePadding:!1,label:"Timestamp"},{id:"revenue",numeric:!0,disablePadding:!1,label:"Revenue"},{id:"impressions",numeric:!0,disablePadding:!1,label:"Impressions"},{id:"eCPM",numeric:!0,disablePadding:!1,label:"eCPM"}],K=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.order,n=t.orderBy;return r.a.createElement(Y.a,null,r.a.createElement(N.a,null,q.map(function(t){return r.a.createElement(S.a,{key:t.id,align:t.numeric?"right":"left",padding:t.disablePadding?"none":"default",sortDirection:n===t.id&&a},r.a.createElement(W.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(A.a,{active:n===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component);function L(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var F=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,r=n.indexOf(t),c=[];-1===r?c=c.concat(n,t):0===r?c=c.concat(n.slice(1)):r===n.length-1?c=c.concat(n.slice(0,-1)):r>0&&(c=c.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:c})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.state={order:"asc",orderBy:"calories",selected:[],data:e.games,page:0,rowsPerPage:5},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.data,c=a.order,i=a.orderBy,o=a.selected,l=a.rowsPerPage,s=a.page,d=l-Math.min(l,n.length-s*l);return r.a.createElement(B.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(P.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(K,{numSelected:o.length,order:c,orderBy:i,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:n.length}),r.a.createElement(y.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(n,function(e,t){return"desc"===e?function(e,a){return L(e,a,t)}:function(e,a){return-L(e,a,t)}}(c,i)).slice(s*l,s*l+l).map(function(t){return r.a.createElement(N.a,{hover:!0,onClick:function(a){return e.handleClick(a,t.id)},tabIndex:-1,key:t.id},r.a.createElement(S.a,{component:"th",scope:"row",padding:"none"},t.game),r.a.createElement(S.a,{align:"right"},t.timestamp),r.a.createElement(S.a,{align:"right"},t.revenue),r.a.createElement(S.a,{align:"right"},t.impressions),r.a.createElement(S.a,{align:"right"},t.eCPM))}),d>0&&r.a.createElement(N.a,{style:{height:49*d}},r.a.createElement(S.a,{colSpan:6}))))),r.a.createElement(j.a,{rowsPerPageOptions:[5,10],component:"div",count:n.length,rowsPerPage:l,page:s,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),H=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(F),J=a(74);function G(e){var t=e.data;return r.a.createElement(J.b,{width:500,height:300,data:t},r.a.createElement(J.c,{dataKey:"timestamp"}),r.a.createElement(J.d,{dataKey:"eCPM"}),r.a.createElement(J.a,{type:"monotone",dataKey:"eCPM",stroke:"#8884d8"}))}var X=a(285),$=a(40),z=a.n($),Q=a(21),U=a(113),V=Object(U.a)({root:{padding:32},button:{marginTop:16,marginLeft:26},rangeContainer:{display:"flex"},date:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginLeft:16}});var Z=function(e){var t=V(),a=e.filterDate,c=e.onClickClear,i=Object(n.useState)({}),o=Object(u.a)(i,2),l=o[0],s=o[1];function d(e){s(e)}var m=function(e){return z()(e).format("YYYY-MM-DD")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.DateRange,{format:"YYY/MM/DD",calendars:1,onInit:d,onChange:d,maxDate:z()(),linkedCalendars:!0}),r.a.createElement("div",{className:t.rangeContainer},r.a.createElement(Q.d,{className:t.date},m(l.startDate)),r.a.createElement(Q.d,{className:t.date},z()(l.endDate).format("YYYY-MM-DD"))),r.a.createElement("div",null,r.a.createElement(Q.a,{className:t.button,variant:"contained",onClick:function(){a({startDate:m(l.startDate),endDate:m(l.endDate)})}},"Search"),r.a.createElement(Q.a,{className:t.button,variant:"contained",onClick:c},"Clear")))},_=Object(U.a)({root:{padding:24},grid:{},gridItem:{padding:8},graph:{padding:24},errorCard:{display:"flex"},errorContent:{alignSelf:"center",padding:24}});var ee=function(){var e=_(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],i=a[1],l=Object(n.useRef)(null);Object(n.useEffect)(function(){Object(d.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,a=m(t),i(a),l.current=a;case 6:case"end":return e.stop()}},e)}))()},[]);var m=function(e){return e.map(function(e,t){return Object(o.a)({id:t+1,eCPM:e.revenue/e.impressions*1e3},e)})};function g(){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.games("https://www.mocky.io/v2/5cd04a20320000442200fc10").getAll();case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:console.log(t);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}return r.a.createElement("div",{className:e.root},r.a.createElement(Q.c,{container:!0,spacing:24,className:e.grid},r.a.createElement(Q.c,{item:!0,xs:!0,className:e.gridItem},r.a.createElement(Z,{filterDate:function(e){var t=new Date(e.startDate),a=new Date(e.endDate);console.log(t,a);var n=l.current.filter(function(e){var n=new Date(e.timestamp);return n>=t&&n<=a});console.log(n),i(n)},onClickClear:function(){i(l.current)}})),0!==c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.c,{className:e.graph,item:!0,xs:!0},r.a.createElement(G,{data:c})),r.a.createElement(Q.c,{item:!0,xs:!0},r.a.createElement(H,{games:c}))):r.a.createElement(Q.b,{className:e.errorCard},r.a.createElement("div",{className:e.errorContent},r.a.createElement(Q.e,{variant:"h6"},"No data present in the given range."),r.a.createElement(Q.e,{variant:"h6"},"Try with a different range.")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[394,1,2]]]);
//# sourceMappingURL=main.3d36d849.chunk.js.map